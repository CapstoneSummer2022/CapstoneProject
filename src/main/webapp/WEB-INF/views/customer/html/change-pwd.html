<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Đổi mật khẩu</title>
        <link rel="stylesheet" href="../css/style.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Alef' rel='stylesheet'>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      </head>
      <body>    
        <!--Page Header-->
        <header>
          <div id="first_row">
            <a href="home.html"><h1 id="store_name">Electroco</h1></a>
            <div id="searchByCate">
              <form action="" id="store_search">
                <select name="cate_search" id="cate_search">
                  <option value="">Tất cả</option>
                  <option value="">Diode</option>
                  <option value="">Transistor</option>
                  <option value="">Thysistor</option>
                  <option value="">Triac - Diac</option>
                  <option value="">IGBT</option>
                  <option value="">Fet</option>
                  <option value="">Tụ điện</option>
                  <option value="">Cuộn cảm</option>
                  <option value="">Điện trở</option>
                  <option value="">Thạch anh</option>
                  <option value="">Biến trở</option>
                  <option value="">Chiết áp</option>
                  <option value="">Nút bấm</option>
                  <option value="">Cầu chì</option>
                  <option value="">Led</option>
                  <option value="">Lcd</option>
                  <option value="">Cảm biến nhiệt độ</option>
                  <option value="">Cảm biến độ ẩm</option>
                  <option value="">Cảm biến ánh sáng</option>
                  <option value="">Cảm biến màu</option>
                  <option value="">Cảm biến chuyển động</option>
                  <option value="">Cảm biến nước</option>
                  <option value="">Cảm biến âm thanh</option>
                  <option value="">Cảm biến từ</option>
                  <option value="">IC cảm ứng</option>
                  <option value="">IC giao tiếp</option>
                  <option value="">IC real time</option>
                  <option value="">IC nguồn</option>
                  <option value="">IC audio</option>
                  <option value="">Dây kết nối</option>
                  <option value="">Cổng kết nối</option>
                </select>
                <input type="text" id="prod_search" name="prod_search" placeholder="Tìm kiếm..."/>
                <button type="submit"><i class="material-icons">search</i></button>
              </form>
            </div>
            <div id="store_icons">
              <div id="cart_icon">
                <a href="cart.html"><i class="material-icons">shopping_cart</i><span id="no_of_prods" class="w3-display-topright">1</span> </a> <a href="cart.html">Giỏ hàng</a>
              </div>
              <div class="dropdown">
                <button class="dropbtn"><i class="material-icons">person</i>thuongnthe141559</button>
                <div class="dropdown-content">
                  <a href="profile.html" style="color: black;">Tài khoản của tôi</a>
                  <a href="orders.html" style="color: black;">Đơn hàng của tôi</a>
                  <a href="home.html" style="color: black;">Đăng xuất</a>
                </div>
              </div>
            </div>
          </div>
          <div id="second_row">
            <ul id="nav">
              <li><a href="#">Danh mục sản phẩm <i class="material-icons">arrow_drop_down</i></a>
                <ul>
                  <li><a href="parent-cgr.html">Linh kiện bán dẫn </a>
                    <ul>
                      <li><a href="child-cgr.html">Transistor</a>
                      <li><a href="#">Diode</a>
                      <li><a href="#">Thysistor</a>
                      <li><a href="#">Diac - Triac</a>
                    </ul>
                  </li>
                  <li><a href="#">Linh kiện thụ động </a>
                    <ul>
                      <li><a href="child-cgr.html">Tụ điện</a>
                      <li><a href="#">Cuộn cảm</a>
                      <li><a href="#">Biến trở</a>
                      <li><a href="#">Điện trở</a>
                      <li><a href="#">Chiết áp</a>
                    </ul>
                  </li>
                  <li><a href="#">Cảm biến</a></li>
                </ul>
              </li>
              <li><a href="#">Nhà cung cấp <i class="material-icons">arrow_drop_down</i></a>
                <ul>
                  <li><a href="prod-by-supplier.html">DAEWOO</a></li>
                  <li><a href="#">ABECO</a></li>
                  <li><a href="#">DIGIKEY</a></li>
                </ul>
              </li>
              <li><a href="track-order.html">Theo dõi đơn hàng</a></li>
              <li><a href="contact.html">Thông tin liên hệ</a></li>
            </ul>
          </div>
        </header>
    
        <!--Page Content-->
        <main>
          <ul class="breadcrumb">
            <li><a href="home.html">Trang chủ</a></li>
            <li><a href="profile.html">Tài khoản của tôi</a></li>
            <li>Đổi mật khẩu</li>
          </ul>
          <div class="account">
            <div class="account_side">
              <a href="profile.html"><i class="material-icons"> arrow_right</i>Hồ sơ của tôi</a>
              <a href="orders.html"><i class="material-icons"> arrow_right</i>Đơn hàng của tôi</a>
              <a href="change-pwd.html"  style="font-weight: bold; color: white; background-color: #18acf2;"><i class="material-icons"> arrow_right</i>Đổi mật khẩu</a>
            </div>
            <div class="account_content">
              <h4>Đổi mật khẩu</h4>
              <div id="changepwd_content">
                <form action="/" method="post">
                  <table>
                      <tr>
                        <td><input type="password" name="current_pwd" id="current_pwd" placeholder="Mật khẩu hiện tại" required/></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td><input type="password" name="new_pwd" id="new_pwd" placeholder="Mật khẩu mới"required/></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td><input type="password" name="confirm_pwd" id="confirm_pwd" placeholder="Xác nhận mật khẩu"required/></td>
                        <td></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td><button type="submit" onclick="return isNewAndConfirmEqual()">Xác nhận</button></td>
                      </tr>
                  </table>
                </form>
              </div>
            </div>
          </div>
        </main>
    
        <!--Page Footer-->
        <footer style="display: grid; grid-template-columns: repeat(2, 45%); column-gap: 10%;">
          <div id="contact_info">
            <h5>Thông tin liên hệ</h5>
            <p>Số điện thoại: 0962352843</p>
            <p>Email: electroco@gmail.com</p>
            <p>Địa chỉ: 444 Xuân Phương, P. Xuân Phương, Q. Nam Từ Liêm, Tp. Hà Nội</p>
          </div>
          <div id="connect_info">
            <h5>Kết nối</h5>
            <a href="#"><img src="../img/logo/facebook.png" alt="facebook"></a>
            <a href="#"><img src="../img/logo/twitter.png" alt="twitter"></a>
            <a href="#"><img src="../img/logo/instagram.png" alt="instagram"></a>
          </div>
        </footer>

        <script>
          function isNewAndConfirmEqual() {
            const oldPwd = document.getElementById('current_pwd').value;
            const newPwd = document.getElementById('new_pwd').value;
            const confirmPwd = document.getElementById('confirm_pwd').value;
            let pattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

            if (oldPwd.length != 0 || newPwd.length != 0 || confirmPwd != 0) {
              if (pattern.test(oldPwd) && pattern.test(newPwd) && pattern.test(confirmPwd)) {
                if (newPwd.localeCompare(confirmPwd) == 0) return true;
                else {
                  alert('Mật khẩu mới và mật khẩu xác nhận không trùng nhau.\nVui lòng thử lại!');                  
                }
              } else {
                alert('Mật khẩu của bạn cần ít nhất 8 kí tự, 1 chữ hoa, 1 chữ thường, 1 chữ số và 1 kí tự đặc biệt');
              }
              return false;
            } else {
              alert('Vui lòng điền đầy đủ thông tin vào các trường!');
            }
          }
        </script>
      </body>
</html>